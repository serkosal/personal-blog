# other languages
1. In English is [here](./README.md)


# Особенности
1.  Интеграция бэкенда и фронтенда  (Django + Tailwind) поддерживет: 
    - как самостоятельную или контейниризированные среды.
    - как стадии для разработки (поддерживает HMR), так и для продакшена.  

2.  Десериализация и валидация 'text rich' данных, и их отрисовку. 
    
3.  Асинхронные задачи выполняемые `Celery`. На данный момент поддерживается 
    только обработка аватаров - создание картинок различных размеров для 
    предпросмотра.
    В будущем будут также таски для отправки emal, пушей и сообщений в 
    мессенджерах.

4.  SEO-оптимизация используя отрисовку на стороне сервера. В будущем данный 
    процесс будет проанализирован дальше на предмет оптимизации путем 
    кэширования контента.

5.  Оптимизированный размер страниц. Я не большой фанат бессмысленно гонять 
    электроны и/или по земному шару.  

# WARNING
[! WARNING ]<br>
**Все команды предоставленные в README.md файлах выполняются относительно путей, по которым они расположены!** 

# Запуск для разработки

Проект возможно запустить как с использованием `docker compose` (одна строчка),
так и запуская сервисы самостоятельно.
-   Используйте [самостоятельный](#самостоятельный-без-docker-docker-compose) 
    вариант если вы готовы разрешать зависимости проектов, задавать переменные
    средыи возможно самостоятельно решать возникающие проблемы. 
-   Иначе используйте [докер](#используя-docker-compose-одна-строчка).

## Используя docker compose (одна строчка).
```shell
docker compose -f docker-compose.dev.yml up
```
По-умолчанию:
-   В качестве базы данных используется `SQLite`  
-   `debug mode` Django включен. 
-   Сервер фронтенда запущен и работает в режиме `горячей перезагрузки модулей` 
    (исходники фронтенда могут быть изменены и сайт обновляется в реальном 
    времени).

Это поведение установлено в `переменных среды`, которые докер подтягивает из  
[этого](./secrets/.dev.env) файла.

## Самостоятельный (без docker, docker compose).

1.  Используйте [эту](./frontend/README.md) инструкцию чтобы либо построить 
    статичный бандл, либо запустить фронтенд сервер (*Рекомендуется*), 
    последнее динамически предоставляет файлы бэкенду.

2.  Установите переменные среды: 
    -   Вы можете просто использовать предустановленные для разработки 
        переменные [отсюда](./secrets/.dev.env).
    -   Или установить все вручную как это описано [здесь](./secrets/README.md). 

3.  Опционально вы можете запустить другие сервисы, как это описано 
    [здесь](#services).  <br>
    Без остальных сервисов некоторая функциональность сайта не будет работать.

# Сервисы

1. frontend - Может быть запущен в качестве сервера `HMR`. 
2. django
3. nginx
4. db 
5. rabbitmq
6. celery

# environment and configuration
Файлы с переменными среды расположены в папке `secrets`.
Конфигурация Django расположена в [](backend/src/main/settings.py)

# deployment
1.  Задайте требуемые параметры переменных среды .env file и 
    [](backend/src/main/settings.py)
2.  `docker compose up`

Эта секция ещё не до конца готова! 

## scaling challenges

[!ВНИМАНИЕ]<br>
Есть сложности с тем, чтобы перенести воркеров Celery на другой сервер, 
ему требуется медиа файлы бэкенда, используйте `NFS` или S3, чтобы расшарить 
файлы по сети.